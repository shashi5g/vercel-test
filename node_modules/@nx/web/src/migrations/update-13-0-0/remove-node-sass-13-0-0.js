"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const devkit_1 = require("@nx/devkit");
/**
 * For web/react apps with style scss option, remove node-sass sine it is deprecated.
 * We already include sass package in `@nrwl/web` deps so no need to install anything extra.
 */
async function update(tree) {
    const packageJson = (0, devkit_1.readJson)(tree, 'package.json');
    let task = undefined;
    if (packageJson.devDependencies['node-sass']) {
        task = (0, devkit_1.removeDependenciesFromPackageJson)(tree, [], ['node-sass']);
    }
    if (packageJson.dependencies['node-sass']) {
        task = (0, devkit_1.removeDependenciesFromPackageJson)(tree, ['node-sass'], []);
    }
    if (task)
        await (0, devkit_1.formatFiles)(tree);
    return task;
}
exports.default = update;
