"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useReactJsxInTsconfig = void 0;
const devkit_1 = require("@nx/devkit");
async function useReactJsxInTsconfig(host) {
    const projects = (0, devkit_1.getProjects)(host);
    projects.forEach((p) => {
        const tsConfigPath = `${p.root}/tsconfig.json`;
        if (host.exists(tsConfigPath)) {
            (0, devkit_1.updateJson)(host, tsConfigPath, (json) => {
                if (json.compilerOptions?.jsx === 'react') {
                    // JSX is handled by babel
                    json.compilerOptions.jsx = 'react-jsx';
                }
                return json;
            });
        }
    });
    await (0, devkit_1.formatFiles)(host);
}
exports.useReactJsxInTsconfig = useReactJsxInTsconfig;
exports.default = useReactJsxInTsconfig;
